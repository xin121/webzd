var len,showerObj,listObj,r,showerWidth=900,showerHeight=600,cR=0,ccR=0,timer=0;window.onload=function(){showerObj=document.getElementById("show"),listObj=showerObj.getElementsByTagName("div"),len=listObj.length,r=Math.PI/180*360/len;for(var i=0;i<len;i++){var item=listObj[i];item.style.top=showerHeight/2+Math.sin(r*i)*showerWidth/2-20+"px",item.style.left=showerWidth/2+Math.cos(r*i)*showerWidth/2-30+"px",item.rotate=(r*i+2*Math.PI)%(2*Math.PI),item.onclick=function(){cR=Math.PI/2-this.rotate,timer||(timer=setInterval(rotate,10))}}showerObj.offsetLeft,showerObj.offsetTop;var rotate=function(){ccR=(ccR+2*Math.PI)%(2*Math.PI),cR-ccR<0&&(cR+=2*Math.PI),cR-ccR<Math.PI?ccR+=(cR-ccR)/19:ccR-=(2*Math.PI+ccR-cR)/19,Math.abs((cR+2*Math.PI)%(2*Math.PI)-(ccR+2*Math.PI)%(2*Math.PI))<Math.PI/720&&(ccR=cR,clearInterval(timer),timer=0);for(var i=0;i<len;i++){var w,h,item=listObj[i],sinR=Math.sin(r*i+ccR),cosR=Math.cos(r*i+ccR);w=350+60*sinR,h=350+60*sinR,item.style.cssText+=";width:"+w+"px;height:"+h+"px;top:"+parseInt(showerHeight/2+sinR*showerWidth/2/3-w/2)+"px;left:"+parseInt(showerWidth/2+cosR*showerWidth/2-h/2)+"px;z-index:"+parseInt(showerHeight/2+sinR*showerWidth/2/3-w/2)+";"}};$(".first").on("click",function(){timer||(timer=setInterval(rotate,10))}),$(".first").trigger("click"),rotate()};