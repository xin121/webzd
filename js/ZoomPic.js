function ZoomPic(){this.initialize.apply(this,arguments)}ZoomPic.prototype={initialize:function(id){var _this=this;this.wrap="string"==typeof id?document.getElementById(id):id,this.oUl=this.wrap.getElementsByTagName("ul")[0],this.aLi=this.wrap.getElementsByTagName("li"),this.prev=this.wrap.getElementsByTagName("span")[0],this.next=this.wrap.getElementsByTagName("span")[1],this.timer=1e3,this.aSort=[],this.iCenter=2,this._doPrev=function(){return _this.doPrev.apply(_this)},this._doNext=function(){return _this.doNext.apply(_this)},this.options=[{width:540,height:340,top:40,left:0,zIndex:1},{width:580,height:380,top:20,left:120,zIndex:2},{width:620,height:420,top:0,left:278,zIndex:3},{width:580,height:380,top:20,left:480,zIndex:2},{width:540,height:340,top:40,left:636,zIndex:1}];for(var i=0;i<this.aLi.length;i++)this.aSort[i]=this.aLi[i];this.setUp(),this.addEvent(this.prev,"click",this._doPrev),this.addEvent(this.next,"click",this._doNext),this.doImgClick(),this.setTime=null,_this.doHover()},doPrev:function(){this.aSort.unshift(this.aSort.pop()),this.setUp()},doNext:function(){this.aSort.push(this.aSort.shift()),this.setUp()},doHover:function(){var setTime,_this=this;setTime=setInterval(function(){$("#focus_Box ul li").each(function(index){_this.iCenter==index&&($(this).next().children("p").children("a").css("width","100%"),$(this).next().siblings().children("p").children("a").css("width","45%"))}),_this._doNext()},1500),$("#focus_Box").hover(function(){console.log("aa"),clearInterval(setTime)},function(){setTime=setInterval(function(){$(".show .com_title").text("解决方案"),$("#focus_Box ul li").each(function(index){_this.iCenter==index&&($(this).next().children("p").children("a").css("width","100%"),$(this).next().siblings().children("p").children("a").css("width","45%"))}),_this._doNext()},1500)})},doImgClick:function(){for(var _this=this,i=0;i<this.aSort.length;i++)this.aSort[i].onclick=function(){if(this.index>_this.iCenter){for(var i=0;i<this.index-_this.iCenter;i++)_this.aSort.push(_this.aSort.shift());_this.setUp()}else if(this.index<_this.iCenter){for(i=0;i<_this.iCenter-this.index;i++)_this.aSort.unshift(_this.aSort.pop());_this.setUp()}}},setUp:function(){var _this=this,i=0;for(i=0;i<this.aSort.length;i++)this.oUl.appendChild(this.aSort[i]);for(i=0;i<this.aSort.length;i++)this.aSort[i].index=i,i<5?(this.css(this.aSort[i],"display","block"),this.doMove(this.aSort[i],this.options[i],function(){_this.doMove(_this.aSort[_this.iCenter].getElementsByTagName("img")[0],{opacity:100},function(){_this.doMove(_this.aSort[_this.iCenter].getElementsByTagName("img")[0],{opacity:100},function(){})})})):(this.css(this.aSort[i],"display","none"),this.css(this.aSort[i],"width",0),this.css(this.aSort[i],"height",0),this.css(this.aSort[i],"top",37),this.css(this.aSort[i],"left",this.oUl.offsetWidth/2)),(i<this.iCenter||i>this.iCenter)&&this.css(this.aSort[i].getElementsByTagName("img")[0],"opacity",100)},addEvent:function(oElement,sEventType,fnHandler){return oElement.addEventListener?oElement.addEventListener(sEventType,fnHandler,!1):oElement.attachEvent("on"+sEventType,fnHandler)},css:function(oElement,attr,value){if(2==arguments.length)return oElement.currentStyle?oElement.currentStyle[attr]:getComputedStyle(oElement,null)[attr];if(3==arguments.length)switch(attr){case"width":case"height":case"top":case"left":case"bottom":oElement.style[attr]=value+"px";break;case"opacity":oElement.style.filter="alpha(opacity="+value+")",oElement.style.opacity=value/100;break;default:oElement.style[attr]=value}},doMove:function(oElement,oAttr,fnCallBack){var _this=this;clearInterval(oElement.timer),oElement.timer=setInterval(function(){var bStop=!0;for(var property in oAttr){var iCur=parseFloat(_this.css(oElement,property));"opacity"==property&&(iCur=parseInt(100*iCur.toFixed(2)));var iSpeed=(oAttr[property]-iCur)/7;iSpeed=iSpeed>0?Math.ceil(iSpeed):Math.floor(iSpeed),iCur!=oAttr[property]&&(bStop=!1,_this.css(oElement,property,iCur+iSpeed))}bStop&&(clearInterval(oElement.timer),fnCallBack&&fnCallBack.apply(_this,arguments))},30)}},new ZoomPic("focus_Box");